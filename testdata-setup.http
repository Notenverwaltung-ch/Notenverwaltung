### Environment: use http-client.env.json dev profile
# @name login
POST http://localhost:8080/api/public/auth/login
Content-Type: application/json

{
  "username": "{{username}}",
  "password": "{{password}}"
}

> {% client.global.set("token", response.body.token); %}

### Create Subject (ADMIN)
# @name createSubject
POST http://localhost:8080/api/subjects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Mathematik"
}

> {% client.global.set("subjectId", response.body.id); %}

### Create Semester (ADMIN)
# @name createSemester
POST http://localhost:8080/api/semesters
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "HS2025",
  "startDate": "2025-09-01",
  "endDate": "2026-01-31"
}

> {% client.global.set("semesterId", response.body.id); %}

### Create Semester-Subject mapping (ADMIN)
# @name createSemesterSubject
POST http://localhost:8080/api/semester-subjects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "semesterId": "{{semesterId}}",
  "subjectId": "{{subjectId}}"
}

> {% client.global.set("semesterSubjectId", response.body.id); %}

### Create Class (ADMIN)
# @name createClass
POST http://localhost:8080/api/classes
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "semesterSubjectId": "{{semesterSubjectId}}"
}

> {% client.global.set("classId", response.body.id); %}

### Create Test (ADMIN)
# @name createTest
POST http://localhost:8080/api/tests
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Mathematik Test 1",
  "semesterSubjectId": "{{semesterSubjectId}}",
  "classId": "{{classId}}"
}

> {% client.global.set("testId", response.body.id); %}

### List created resources (USER/ADMIN)
GET http://localhost:8080/api/subjects?page=0&size=10
Authorization: Bearer {{token}}

GET http://localhost:8080/api/semesters?page=0&size=10
Authorization: Bearer {{token}}

GET http://localhost:8080/api/semester-subjects
Authorization: Bearer {{token}}

GET http://localhost:8080/api/classes?page=0&size=10
Authorization: Bearer {{token}}

GET http://localhost:8080/api/tests?page=0&size=10
Authorization: Bearer {{token}}
